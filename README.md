<h1 align=center> <strong>Proyecto Grupal</strong> </h1>
<h2 align="center">Data Science</h2>

# 📌Introducción

Estados Unidos es un país que cuenta con una gran oferta y diversidad gastronómica que reflejan las 
diversas comunidades y culturas del país.

Uno de los principales rubros y de los más tradicionales del país son las llamadas steakhouses, restaurantes especializados en servir filetes de carne de vacuno.

En este proyecto nos enfocaremos en este rubro, siendo nuestro empleador una cadena de restaurantes, con el objetivo general de brindar oportunidades de mejora y permitirle resaltar por encima de la competencia.

# 📌Sobre nosotros

Somos Data Finance, una empresa consultora que se especializa en el análisis de datos, donde fusionamos la potencia del Data Science con la precisión financiera y brinda posibles soluciones, mejoras de mercado. Aquí la innovación y la analítica avanzada convergen para optimizar sus operaciones y maximizar sus resultados. Incorporamos lo último en lo que refiere al análisis de datos, machine learning y tecnologias de vanguardia.

## 🤜🤛Nuestro Equipo

    César Chirino            - Data Engineer

    Kevin Coaguila           - Cloud Specialist

    Sebastián Risi           - Bussiness Analyst 

    Carlos Cantón            - Data Engineer

    Pablo Robba              - Machine Learning Engineer

    Golheth Acosta           - Data Analyst

# 📌Nuestro Cliente

<p align=center><img src="https://upload.wikimedia.org/wikipedia/en/thumb/b/b0/Texas_Roadhouse.svg/1200px-Texas_Roadhouse.svg.png"><p>

Texas Roadhouse Es de las más grandes steakhouse de los Estados Unidos, trabaja desde hace treinta años, ubicado en 49  estados y en 10 paises, con tantos 627 establecimientos, 29 de ellos internacionales. Siendo de los más grandes en su rubro, sus mas grandes competidores son LongHorn Steakhouse Saltgrass Steak House y Logan's Roadhouse Las acciones de Texas Rodhouse tienen un valor de 111.93 dolares en la bolsa.

# 🧾Nuestros Objetivos

## Objetivo General

-	El objetivo principal es extraer conocimientos significativos a partir de una extensa base de datos de reviews de restaurantes. Mediante técnicas de minería de datos y análisis estadístico, buscaremos identificar patrones, tendencias y factores clave que influyan en la satisfacción del cliente y en la reputación de nuestro cliente, la cadena Texas Rodhouse. El propósito es proporcionar insights valiosos para mejorar la calidad de sus servicios, optimizar la experiencia del cliente y fortalecer la posición competitiva de los establecimientos gastronómicos, identificando posibles localidades con potencial para expandir el negocio. 
¿Cómo lo haremos?

### Objetivo 1 (Identificar fortalezas en los mercados más pujantes)

1.	Segmentación Geográfica: Identificar aquellos Estados donde los clientes tienen una mejor valoración de los servicios del cliente. Segmentar nuestros 10 mercados más pujantes a partir de las calificaciones y la valoración de los clientes.

2.	Sentimiento del Cliente: Crear un modelo de procesamiento de lenguaje natural (NLP) que muestre la relación entre palabras clave y calificaciones basándose en las reseñas, en los Estados ya filtrados anteriormente. 

3.	Factores de Influencia: Detectar las palabras clave presentes en los comentarios con calificaciones superiores a 3 estrellas para identificar aspectos que deben ser preservados y fortalecidos.

### Objetivo 2 (Identificar futuros mercados)

1.	Evaluación de Mercados Competitivos: Analizar e identificar Estados en los que la competencia presente un desempeño sólido. Realizar un mapeo detallado de las ubicaciones donde los competidores tienen presencia exitosa.

2.	Comparación con Presencia Actual: Contrastar la información obtenida con la presencia actual de sucursales en esos Estados. Identificar brechas geográficas donde la empresa no tiene presencia pero donde la competencia demuestra éxito.

3.	Propuesta de Nuevas Sucursales: Formular recomendaciones estratégicas para la apertura de nuevas sucursales en aquellos Estados y localidades donde la competencia prospera y la empresa aún no tiene una presencia establecida. Evaluar el potencial de crecimiento y la viabilidad de expansión en estas áreas.

### Objetivo Plus (Financiero) 

1.	Evaluación del Desempeño en el Contexto del NASDAQ: Analizar el rendimiento financiero de la empresa en relación con el índice NASDAQ y el S&P 500. Comparar las tendencias y variaciones del valor de las acciones de la empresa con el comportamiento general del NASDAQ para entender la posición relativa en el mercado y la influencia de factores macroeconómicos en su desempeño. Esto proporcionará una perspectiva adicional para la toma de decisiones financieras y estratégicas.

2.	Proyección de Ingresos: Estimar los ingresos potenciales derivados de la apertura de nuevas sucursales en los mercados seleccionados. Utilizar datos históricos y proyecciones de crecimiento para calcular posibles flujos de ingresos.

# 📈KPIs

- Evolución Relativa de Cotización Bursátil:
Este indicador mide la capacidad de la empresa para gestionar su cotización bursátil en comparación con el Índice de referencia, ya sea el NASDAQ o el S&P 500. Se calcula como la diferencia porcentual entre la variación de la cotización de las acciones de la empresa y la variación del índice de referencia durante un período específico. El objetivo es mejor la performance del Índice de referencia en un 5% para 2024

- Disminuir las brechas competitivas:
Identificar los estados dónde la competencia tenga una mejor valoración promedio que nuestro cliente por parte de los usuarios. El objetivo es reducir esta brecha en un 5% para 2024.

- Aumento de Valoración Social:
Incremento de revisiones y opiniones totales para cada restaurante en comparación con el cuatrimestre anterior en un 4%. Refleja la salud social y la percepción pública de los establecimientos, proporcionando una visión precisa de la evolución de la reputación y la experiencia del cliente.

- Expansión Estratégica en Mercados Potenciales:
Evalúa las ciudades donde la competencia presenta mejor desempeño(respecto a reviews) en las cuales nuestro cliente no está presente. El objetivo es planificar la apertura de 2 restaurantes en dichas ciudades para el 2024, ya teniendo la información de oportunidades para el crecimiento de la marca y la expansión de la presencia en ubicaciones estratégicas.

- Disminucion del 2% trimestral de reviews negativas en comparacion a las positivas:
Este Kpi nos muestra la evolucion del servicio en relacion a las criticas pasadas, si disminuye la proporcion total de criticas del total de valoraciones a lo largo del tiempo reflejaria una mejora del servicio.

# 📌Alcance

Respecto al alcance de nuestro proyecto, es importante precisar en primer lugar que las métricas necesarias y el análisis general se obtendrán a partir de los datos provistos por Yelp, y consistirán en una exploración y procesamiento de las reseñas de los clientes de la cadena Texas Rodhouse. Mediante técnicas de minería de datos y análisis estadístico, buscaremos identificar patrones, tendencias y factores clave que influyan en la satisfacción del cliente y en la reputación de la empresa. El propósito es proporcionar insights valiosos para mejorar la calidad de sus servicios, optimizar la experiencia del cliente y fortalecer la posición competitiva de los establecimientos gastronómicos.

El alcance temporal comprende las reseñas desde el año 2019 al 2023; esto porque consideramos importante que, ya que uno de los objetivos es la identificación de futuros mercados, se debe trabajar a partir de los datos más recientes; si tomáramos años anteriores es muy probable que la información ya esté desactualizada ya que sabemos que los mercados cambian constantemente y se ven afectados por factores macroeconómicos y sociales. El alcance geográfico se basa en los 49 estados donde Texas Rodhouse tiene presencia. Esto nos permitirá segmentar los mercados según el nivel de desempeño y satisfacción de los clientes, así como identificar brechas geográficas donde la competencia tiene ventaja y la empresa tiene oportunidad de expandirse. 

# 🛠️Flujo de trabajo
<p align=center><img src="img-readme\Flujo_de_Trabajo.png"><p>

En lo que se refiere al Stack tecnológico, nuestro cliente nos pidió hacer un análisis en base a las plataformas de reseñas Google Maps y Yelp. Para el diagrama de Gannt, utilizamos la plataforma ClickUp, por su claridad, vistosidad y fácil repartición. En cuanto al EDA-ETL, los archivos de Google Maps están en formato JSON. Por otro lado, para los datasets de Yelp, tenemos tres archivos en formato JSON, uno en Python Pickle File (.pkl) y otro comprimido en formato parquet. Para su poder leerlos, utilizaremos al lenguaje de programación python, en un jupyer notebook. Serán usadas: la librería Pyarrow para leer el archivo parquet, la librería Pandas para convertirlo en un dataframe, Numpy para el área matemática, además de Matplotlib y Seaborn para la realización de gráficos en lo que se refiere al análisis exploratorio. Yfinance, para el análisis financiero de la empresa y su competencia. 

Para la infraestructura de datos, utilizaremos un servicio de almacenamiento en la nube. Elegimos la plataforma de Google Cloud (GCP) debido a su buena escalabilidad, rendimiento, seguridad y sus precios flexibles.

Por último, en la etapa de machine learning, utilizaremos, de nuevo, el lenguaje Python, a travez de Jupyter Notebook, Numpy y Pandas. Además, para el modelo de machine learning utilizaremos ScikitLearn.
Para todo lo que es visualizaciones de datos, usaremos PowerBI, ya que es una plataforma de la que disponemos un buen manejo y, además, es gratuita, a diferencia de otras (como por ejemplo Tableau).

# 📊EDA

Para el EDA se realizó proceso de exploración preliminar similar para todos los archivos. Nos encontramos, en lo que se refiere a los datasets de Google Maps, con 51 carpetas de archivos JSON (una por cada estado) y un dataset para la metadata. En lo que a Yelp se refiere, tenemos 5 archivos, 3 JSON, 1 parquet y un pkl. Decidimos no utilizar el archivo "checkin.json", ya que, para nuestros objetivos, no tiene importancia, ya que tiene fechas de las personas usan determinados servicios (registros en el negocio), cuestión irrelevante para nuestro trabajo. 

Se cargaron los datos, se averiguaron: 1- El tipo de datos, 2- El porcentaje y la cantidad de nulos, 3- Los tipos de datos, 4- Revisión de duplicados y outliers. Para ello, utilizamos un [archivo con funciones de exploración de datos](https://github.com/ChirixC/Yelp-Final-Project/blob/main/Utils/helper.py), que se compone de funciones creadas específicamente para este proceso.

Podemos encontrar, en lo que se refiere a Google Maps, en los archivos de reviews, una gran cantidad de valores faltantes en las columnas text (de tipo string), pics (de tipo lista), resp (de tipo diccionario) y ninguno en resto que, cabe decir, son todas de tipo de dato int (excepto, gmap_id que es de tipo str). Descubrimos que columna time contiene marcas de tiempo en milisegundos desde la época (epoch). La época se refiere al momento en el que el tiempo comenzó a contarse para sistemas informáticos, generalmente el 1 de enero de 1970 a las 00:00:00 UTC. Más adelante podremos convertir estos datos a formatos más amigables para trabajar con ello. Existen duplicados, más no es un porcentaje significativo de los datos y en ninguno hay una gran cantidad de outliers.

En lo que se refiere al dataset metadata, la carpeta tiene 11 archivos .json donde se dispone la metadata contiene información del comercio, incluyendo localización, atributos y categorías. Contiene muchísimos nulos en la columna price y description, y una cantidad significativa en hours, MISC, state. Tiene una cantidad baja de outliers (1.78 %) y porcentualmente baja de filas duplicadas (teniendo en cuenta el total de ellas).

Los archivos de Yelp, business.pkl contiene información del comercio, incluyendo localización, atributos y categorías; review.json, contiene las reseñas completas, incluyendo el user_id que escribió el review y el business_id por el cual se escribe la reseña; user.parquet, datos del usuario incluyendo referencias a otros usuarios amigos y a toda la metadata asociada al usuario; tip.json, consejos escritos por el usuario. Los datos, en general, se encuentran muy íntegros y se pueden apreciar en ellos una alta calidad del dato. 

Por último, realizamos un EDA para los archivos de YahooFinance, contienen una calidad del dato excelente y ningún outlier.

## 💾ETL

El proceso de ETL fue realizado en Google Cloud Platform (GCP) por, como ya dijimos, su buena escalabilidad, rendimiento, seguridad y sus precios flexibles. Realizamos una carga incremental de los datos necesarios para el análisis, extraído directamente desde Google Drive. Su actualización se cada [periodo de tiempo]. Luego, mediante el servicio Cloud Functions, adaptamos distintas funciones hechas en python, que tenían como objetivo pasar los datos del storage a Big Query por un lado, y por el otro, que proceso de haga de manera automática cada vez que surja un cambio en el storage.

Los datos se cargan totalmente en Big Query, y desde allí, mediante consultas, se eligen los archivos a disposición del cliente. Se tomó esta decisión debido a que tenemos como objetivo que el trabajo realizado sea reutilizable en futuros clientes que vayan a necesitar el servicio.

## 📑Modelo Entidad-Relación
### Google Reviews
<p align=center><img src="img-readme\Entidad_relación_Google.jpg" width="718" height="507"><p>

### Yelp
<p align=center><img src="img-readme\Entidad_relación_Tips.jpg"><p

# 📂Datos
+   [Dataset de Google Maps](https://drive.google.com/drive/folders/1Wf7YkxA0aHI3GpoHc9Nh8_scf5BbD4DA?usp=share_link)
+   [Dataset de Yelp!](https://drive.google.com/drive/folders/1TI-SsMnZsNP6t930olEEWbBQdo_yuIZF?usp=sharing)
+   [Yahoo Finance](https://finance.yahoo.com/)